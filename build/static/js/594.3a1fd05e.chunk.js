"use strict";(self.webpackChunk_28cm=self.webpackChunk_28cm||[]).push([[594],{8520:(e,n,t)=>{t.d(n,{c:()=>I});var i=t(9060),o=t(7932);function r(){const e=(0,i.useRef)(!1);return(0,o.M)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}var c=t(4367);var s=t(3932),l=t(1084);class a extends i.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=n.offsetHeight||0,e.width=n.offsetWidth||0,e.top=n.offsetTop,e.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:n,isPresent:t}=e;const o=(0,i.useId)(),r=(0,i.useRef)(null),c=(0,i.useRef)({width:0,height:0,top:0,left:0});return(0,i.useInsertionEffect)((()=>{const{width:e,height:n,top:i,left:s}=c.current;if(t||!r.current||!e||!n)return;r.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(n,"px !important;\n            top: ").concat(i,"px !important;\n            left: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}}),[t]),i.createElement(a,{isPresent:t,childRef:r,sizeRef:c},i.cloneElement(n,{ref:r}))}const p=e=>{let{children:n,initial:t,isPresent:o,onExitComplete:r,custom:c,presenceAffectsLayout:a,mode:p}=e;const m=(0,l._)(u),h=(0,i.useId)(),f=(0,i.useMemo)((()=>({id:h,initial:t,isPresent:o,custom:c,onExitComplete:e=>{m.set(e,!0);for(const n of m.values())if(!n)return;r&&r()},register:e=>(m.set(e,!1),()=>m.delete(e))})),a?void 0:[o]);return(0,i.useMemo)((()=>{m.forEach(((e,n)=>m.set(n,!1)))}),[o]),i.useEffect((()=>{!o&&!m.size&&r&&r()}),[o]),"popLayout"===p&&(n=i.createElement(d,{isPresent:o},n)),i.createElement(s.i.Provider,{value:f},n)};function u(){return new Map}var m=t(7264);var h=t(7968);const f=e=>e.key||"";const g=e=>{let{children:n,custom:t,initial:s=!0,onExitComplete:l,exitBeforeEnter:a,presenceAffectsLayout:d=!0,mode:u="sync"}=e;(0,h.O)(!a,"Replace exitBeforeEnter with mode='wait'");const g=(0,i.useContext)(m.m).forceRender||function(){const e=r(),[n,t]=(0,i.useState)(0),o=(0,i.useCallback)((()=>{e.current&&t(n+1)}),[n]);return[(0,i.useCallback)((()=>c.AL.postRender(o)),[o]),n]}()[0],x=r(),v=function(e){const n=[];return i.Children.forEach(e,(e=>{(0,i.isValidElement)(e)&&n.push(e)})),n}(n);let y=v;const I=(0,i.useRef)(new Map).current,b=(0,i.useRef)(y),w=(0,i.useRef)(new Map).current,j=(0,i.useRef)(!0);var C;if((0,o.M)((()=>{j.current=!1,function(e,n){e.forEach((e=>{const t=f(e);n.set(t,e)}))}(v,w),b.current=y})),C=()=>{j.current=!0,w.clear(),I.clear()},(0,i.useEffect)((()=>()=>C()),[]),j.current)return i.createElement(i.Fragment,null,y.map((e=>i.createElement(p,{key:f(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:d,mode:u},e))));y=[...y];const E=b.current.map(f),L=v.map(f),R=E.length;for(let i=0;i<R;i++){const e=E[i];-1!==L.indexOf(e)||I.has(e)||I.set(e,void 0)}return"wait"===u&&I.size&&(y=[]),I.forEach(((e,n)=>{if(-1!==L.indexOf(n))return;const o=w.get(n);if(!o)return;const r=E.indexOf(n);let c=e;if(!c){const e=()=>{I.delete(n);const e=Array.from(w.keys()).filter((e=>!L.includes(e)));if(e.forEach((e=>w.delete(e))),b.current=v.filter((t=>{const i=f(t);return i===n||e.includes(i)})),!I.size){if(!1===x.current)return;g(),l&&l()}};c=i.createElement(p,{key:f(o),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:d,mode:u},o),I.set(n,c)}y.splice(r,0,c)})),y=y.map((e=>{const n=e.key;return I.has(n)?e:i.createElement(p,{key:f(e),isPresent:!0,presenceAffectsLayout:d,mode:u},e)})),i.createElement(i.Fragment,null,I.size?y:y.map((e=>(0,i.cloneElement)(e))))};var x=t(2688),v=t(9476),y=t(2496);const I=e=>{let{children:n}=e;return(0,y.jsx)(g,{children:(0,y.jsx)(x.q.div,{initial:v.u.pageOpen.initial,animate:v.u.pageOpen.animate,transition:v.u.pageOpen.transition,exit:v.u.pageOpen.exit,style:{position:"relative",width:"100%"},children:n})})}},9532:(e,n,t)=>{t.d(n,{I:()=>i});const i={DISPLAY_NAME:"\ubc29\ubb38\uc790",PHOTO_URL:"../img/placeholder/user1.jpg"}},7594:(e,n,t)=>{t.r(n),t.d(n,{default:()=>D});var i,o,r=t(4312),c=t(360),s=t(7108);const l={Page:c.cp.section(i||(i=(0,r.c)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 4rem 16px 120px;\n"]))),Confirm:c.cp.div(o||(o=(0,r.c)(["\n  width: 100%;\n  padding-top: 8rem;\n  display: flex;\n  justify-content: space-between;\n\n  & button {\n    width: calc(50% - 5px);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 2rem 0;\n    border-radius: 10px;\n  }\n\n  & button p {\n    font-size: 16px;\n    font-weight: 700;\n  }\n\n  & .cancel {\n    border: 1px solid ",";\n  }\n\n  & .cancel p {\n    color: ",";\n  }\n\n  & .submit {\n    background: ",";\n  }\n\n  & .submit p {\n    color: ",";\n  }\n"])),s.g.color.GRAY3,s.g.color.BLACK,s.g.color.INPUT_VALID,s.g.color.WHITE)};var a=t(940),d=t(9060),p=t(5484),u=t(2688),m=t(9476),h=t(9532),f=t(400);var g,x,v,y;const I={Component:c.cp.div(g||(g=(0,r.c)(["\n  width: 100%;\n  display: flex;\n  justify-conent: center;\n\n  & label {\n    display: inline-block;\n    margin: auto;\n    position: relative;\n  }\n"]))),ProfileImg:c.cp.div(x||(x=(0,r.c)(["\n  width: 8rem;\n  height: 8rem;\n  border-radius: 50%;\n  overflow: hidden;\n  background-size: cover;\n  background-position: center center;\n  margin: auto;\n"]))),EditProfileImg:c.cp.p(v||(v=(0,r.c)(["\n  font-size: 14px;\n  text-align: center;\n  margin-top: 20px;\n  font-weight: 700;\n  color: ",";\n"])),s.g.color.INPUT_VALID),Input:c.cp.input(y||(y=(0,r.c)(["\n  position: absolute;\n  opacity: 0;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n"])))};var b=t(2496);const w=e=>{const{defaultImg:n,changedImg:t,onChangeImg:i}=e;return(0,b.jsx)(I.Component,{children:(0,b.jsxs)(u.q.label,{htmlFor:"my-edit-profileImg",whileTap:m.u.scaleButton.whileTap,transition:m.u.scaleButton.transition,children:[(0,b.jsx)(I.ProfileImg,{style:{backgroundImage:"url(".concat(t?URL.createObjectURL(t):n,")")}}),(0,b.jsx)(I.EditProfileImg,{children:"\ud504\ub85c\ud544 \uc0ac\uc9c4 \ubc14\uafb8\uae30"}),(0,b.jsx)(I.Input,{type:"file",accept:"image/*",name:"my-edit-profileImg",id:"my-edit-profileImg",onChange:i})]})})};var j,C,E,L,R,P,k;const T=c.cp.div(j||(j=(0,r.c)(["\n  width: 100%;\n"]))),A=c.cp.ul(C||(C=(0,r.c)(["\n  padding: 3rem 0;\n"]))),U=c.cp.li(E||(E=(0,r.c)(["\n  padding: 2rem 0;\n  border-bottom: 1px solid ",";\n  display: flex;\n  align-items: center;\n\n  &:last-child {\n    border-bottom: none;\n  }\n"])),s.g.color.GRAY3),N=(0,c.gV)(L||(L=(0,r.c)(["\n  font-size: 18px;\n  font-weight: 500;\n  color: ",";\n\n  @media screen and (max-width: 400px) {\n    font-size: 16px;\n  }\n"])),s.g.color.BLACK),O={Component:T,Ul:A,Li:U,Th:c.cp.p(R||(R=(0,r.c)(["\n  ","\n  width: 115px;\n"])),N),Input:c.cp.input(P||(P=(0,r.c)(["\n  ","\n"])),N),Td:c.cp.p(k||(k=(0,r.c)(["\n  ","\n"])),N)},z=e=>{const{placeholder:n,onChangeInput:t,email:i,providerId:o}=e;return(0,b.jsx)(O.Component,{children:(0,b.jsxs)(O.Ul,{children:[(0,b.jsxs)(O.Li,{children:[(0,b.jsx)("label",{htmlFor:"my-edit-DisplayName",style:{display:"inline-block"},children:(0,b.jsx)(O.Th,{children:"\uc774\ub984"})}),(0,b.jsx)(O.Input,{type:"text",name:"my-edit-DisplayName",id:"my-edit-DisplayName",placeholder:n,maxLength:10,onChange:t})]}),(0,b.jsxs)(O.Li,{children:[(0,b.jsx)(O.Th,{children:"\uc774\uba54\uc77c"}),(0,b.jsx)(O.Td,{children:i})]}),(0,b.jsxs)(O.Li,{children:[(0,b.jsx)(O.Th,{children:"\uacc4\uc815\uc5f0\ub3d9"}),(0,b.jsx)(O.Td,{children:o})]})]})})};var B=t(5004),_=t(8520);const D=()=>{const{navigate:e}=(0,a.K)(),{user:n,updateProfile:t}=(0,B.S)();(0,d.useEffect)((()=>{n||e(p.Q.login,{state:{path:p.Q.myEditInfo},replace:!0})}),[]);const[i,o]=(0,d.useState)(null!==n&&void 0!==n&&n.displayName?n.displayName:h.I.DISPLAY_NAME),[r,c]=(0,d.useState)(null),s=(0,d.useCallback)((e=>{const{files:n}=e.target;n&&c(n[0])}),[]),g=(0,d.useCallback)((e=>{o(e.target.value)}),[]),x=(0,d.useCallback)((async()=>{let e=null!==n&&void 0!==n&&n.photoURL?n.photoURL:"",o=i.length>0?i:"\ubc29\ubb38\uc790";r&&(e=await(async e=>{const n=new FormData;return n.append("file",e),n.append("upload_preset","p3xq2jfy"),f.A.postWithoutClient({url:"https://api.cloudinary.com/v1_1/drvtuzltt/image/upload",data:n}).then((e=>e.data.url)).catch((e=>{console.log(e)}))})(r)),await t.mutate({photoURL:e,displayName:o})}),[r,i,null===n||void 0===n?void 0:n.displayName,null===n||void 0===n?void 0:n.photoURL]);return(0,b.jsx)(_.c,{children:(0,b.jsxs)(l.Page,{children:[(0,b.jsx)(w,{defaultImg:null!==n&&void 0!==n&&n.photoURL?n.photoURL:h.I.PHOTO_URL,changedImg:r,onChangeImg:s}),(0,b.jsx)(z,{placeholder:i,onChangeInput:g,email:null!==n&&void 0!==n&&n.email?n.email:"\uc5c6\uc74c",providerId:"firebase"!==(null===n||void 0===n?void 0:n.providerId)?null===n||void 0===n?void 0:n.providerId:"\uc5c6\uc74c"}),(0,b.jsxs)(l.Confirm,{children:[(0,b.jsx)(u.q.button,{className:"cancel",whileTap:m.u.scaleButton.whileTap,transition:m.u.scaleButton.transition,onClick:()=>{e(-1)},children:(0,b.jsx)("p",{children:"\ucde8\uc18c"})}),(0,b.jsx)(u.q.button,{className:"submit",whileTap:m.u.scaleButton.whileTap,transition:m.u.scaleButton.transition,onClick:x,children:(0,b.jsx)("p",{children:"\uc218\uc815"})})]})]})})}}}]);
//# sourceMappingURL=594.3a1fd05e.chunk.js.map